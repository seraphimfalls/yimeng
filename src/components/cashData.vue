<template>
  <div>
      <van-list
          v-model="loading"
          loading-text="加载中"
          :offset="offest"
          :finished="finished"
          finished-text="没有更多了"
          @load="onLoad"
        >
          <div class="list-data-box" v-for="item in cashData" :key="item.index">
            <div class="textLeft">
              <div>{{ item.remark }}</div>
              <div class="coloraeaeae font24">{{ item.createtime }}</div>
            </div>
            <span>{{ item.money }}</span>
          </div>
        </van-list>
  </div>
</template>

<script>
import * as assetsApi from "../axios/assets.js";
export default {
  name: "cashData",
  data() {
    return {
       page: 1,
      limit: 10,
      offest:10,
      loading: false,
      finished: false,
      cashData:[],
      type:3
    };
  },
  methods: {
     async onLoad() {
      let res = await assetsApi.getList(this.page, this.limit,this.type);
      if (res.data.length < 10) {
        this.finished = true;
      }
      this.page=this.page+1;
      this.cashData = this.cashData.concat(res.data)
       this.loading = false
    }
  }
};
</script>
<style scoped>
</style>
